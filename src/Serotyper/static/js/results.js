// Generated by CoffeeScript 1.9.3
(function() {
  window.onload = function() {
    var download, toCSV;
    download = function(csv, filename) {
      var csvFile, link;
      csvFile = new Blob([csv], {
        type: 'text/csv'
      });
      link = document.createElement('a');
      link.download = filename;
      link.href = window.URL.createObjectURL(csvFile);
      link.style.display = 'none';
      document.body.appendChild(link);
      return link.click();
    };
    toCSV = function(filename) {
      var c, col, cols, file, i, j, len, len1, r, row, rows;
      rows = document.querySelectorAll('table tr');
      file = [];
      for (i = 0, len = rows.length; i < len; i++) {
        r = rows[i];
        row = [];
        cols = r.querySelectorAll('th, td');
        for (j = 0, len1 = cols.length; j < len1; j++) {
          c = cols[j];
          col = c.innerText;
          col = col.split('\n').join('; ');
          row.push(col);
        }
        file.push(row.join(','));
      }
      return download(file.join('\r\n'), filename);
    };
    return document.querySelector('#download-button').addEventListener('click', function(e) {
      return toCSV('SerotypeResults.csv');
    });
  };

}).call(this);
